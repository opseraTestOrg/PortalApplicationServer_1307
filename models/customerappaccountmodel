var mongoose = require('mongoose');
var Schema = mongoose.Schema;

var customerToolsSchema = new Schema({
    toolCategory: {type: String, required: true},
    toolName: {type: String, required: true}
},{ _id : false });

var userToolSchema = new Schema({
    userToolName: {type: String, required: true},
    userToolAccountStatus: {type: String, required: true}
},{ _id : false });

var customerUsersSchema = new Schema({
    userFirstName: {type: String, required: true},
    userLastName: {type: String, required: true},
    userEmailId: {type: String, required: true}, 
    userLoginId: {type: String, required: false},
    userLoginPassword: {type: String, required: false},
    userPermissionType: {type: String, required: true},
    userToolsToBeConfigured: [userToolSchema]
},{ _id : false });

var customerSchema = new Schema({
    customerUniqueAppId: {type: String, required: true},
    customerBundleType: {type: String, required: true},
    customerOrganizationName: {type: String, required: true},
    customerAddress: {type: String, required: true},    
    customerPrimaryContactEmail: {type: String, required: true},    
    customerPrimaryContactPhone: {type: String, required: true},
    customerSecondaryContactEmail: {type: String, required: true},    
    customerSecondaryContactPhone: {type: String, required: true},
    customerApplicationUrl: {type: String, required: true},
    customerApplicationPortNo: {type: String, required: true},
    customerApplicationTechnologyStack:  [{type: String, required: true}],
    customerToolsSelection: [customerToolsSchema],
    customerUsers: [customerUsersSchema]
});

module.exports = mongoose.model('customerappaccountcollection', customerSchema);